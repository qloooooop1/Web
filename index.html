<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±Ù…Ø¶Ø§Ù† ğŸŒ™</title>
    <!-- Ø¥Ø¶Ø§ÙØ© Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            text-align: center;
            background-color: #f0f8ff;
            direction: rtl;
            position: relative;
            overflow: hidden;
        }
        #countdown {
            font-size: 2em;
            color: #2e8b57;
            margin-top: 20px;
        }
        #prayer {
            font-size: 1.5em;
            margin: 20px;
            padding: 15px;
            background-color: #fff;
            border-radius: 10px;
            cursor: pointer;
        }
        #prayer:hover {
            background-color: #e0ffff;
        }
        #shareBtn, .gameBtn {
            padding: 10px 20px;
            background-color: #32cd32;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        #points {
            font-size: 1.2em;
            color: #ff8c00;
        }
        #leaderboard {
            margin: 20px;
            padding: 15px;
            background-color: #fff;
            border-radius: 10px;
            max-width: 300px;
            display: inline-block;
        }
        #leaderboard h3 {
            margin: 0;
            color: #2e8b57;
        }
        #leaderboard ul {
            list-style: none;
            padding: 0;
        }
        #leaderboard li {
            padding: 5px;
            font-size: 1.1em;
        }
        #eid {
            display: none;
            font-size: 3em;
            color: #ff4500;
        }
        .star {
            position: absolute;
            font-size: 2em;
            cursor: pointer;
            transition: all 0.2s;
        }
        #gameArea {
            margin: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <h1>Ø±Ù…Ø¶Ø§Ù† <i class="fas fa-moon"></i></h1>
    <input type="text" id="userName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ØªØ¨Ø¯Ø£" style="margin-bottom: 10px;">
    <div id="countdown"></div>
    <div id="points">Ù†Ø¬ÙˆÙ…Ùƒ: 0 <i class="fas fa-star"></i></div>
    <div id="prayer" onclick="changePrayer()">Ø§Ø¶ØºØ· Ù„Ø¹Ø±Ø¶ Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ… <i class="fas fa-pray"></i></div>
    <button id="shareBtn" style="display: none;" onclick="sharePrayer()">Ø´Ø§Ø±Ùƒ Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ… <i class="fas fa-share-alt"></i></button>
    <div id="globalStats">Ø§Ù†Ø¶Ù… 0 Ø´Ø®Øµ Ø¥Ù„Ù‰ ØªØ­Ø¯ÙŠ Ø±Ù…Ø¶Ø§Ù†</div>
    <div>
        <button class="gameBtn" onclick="startStarGame()">Ø§Ø¬Ù…Ø¹ Ø§Ù„Ù†Ø¬ÙˆÙ… <i class="fas fa-star"></i></button>
        <button class="gameBtn" onclick="startGuessGame()">Ø®Ù…Ù† Ø§Ù„Ø³ÙˆØ±Ø© <i class="fas fa-book-open"></i></button>
        <button class="gameBtn" onclick="startQuizGame()">Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ© <i class="fas fa-question-circle"></i></button>
    </div>
    <div id="gameArea"></div>
    <div id="leaderboard">
        <h3><i class="fas fa-trophy"></i> Ø§Ù„Ø£ÙƒØ«Ø± Ø¬Ù…Ø¹Ù‹Ø§ Ù„Ù„Ù†Ø¬ÙˆÙ…</h3>
        <ul id="leaderList"></ul>
    </div>
    <div id="eid">Ø¹ÙŠØ¯ ÙØ·Ø± Ù…Ø¨Ø§Ø±Ùƒ <i class="fas fa-fireworks"></i></div>

    <script>
        const ramadanStart = new Date('March 1, 2025 00:00:00').getTime();
        const prayers = [
            "Ø§Ù„Ù„Ù‡Ù… Ø¨Ù„ØºÙ†Ø§ Ø±Ù…Ø¶Ø§Ù† Ù„Ø§ ÙØ§Ù‚Ø¯ÙŠÙ† ÙˆÙ„Ø§ Ù…ÙÙ‚ÙˆØ¯ÙŠÙ† ğŸŒ™",
            "Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ùƒ Ø¹ÙÙˆ ØªØ­Ø¨ Ø§Ù„Ø¹ÙÙˆ ÙØ§Ø¹Ù Ø¹Ù†Ø§ ğŸ¤²",
            "Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ ØµÙŠØ§Ù…ÙŠ ÙÙŠÙ‡ ØµÙŠØ§Ù… Ø§Ù„ØµØ§Ø¦Ù…ÙŠÙ† ÙˆÙ‚ÙŠØ§Ù…ÙŠ ÙÙŠÙ‡ Ù‚ÙŠØ§Ù… Ø§Ù„Ù‚Ø§Ø¦Ù…ÙŠÙ† ğŸ•‹",
            "Ø§Ù„Ù„Ù‡Ù… ØªÙ‚Ø¨Ù„ Ù…Ù†Ø§ ØµØ§Ù„Ø­ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙÙŠ Ø±Ù…Ø¶Ø§Ù† â­"
        ];
        const surahs = [
            { text: "Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø£ÙØ­ÙØ¯ÙŒ", name: "Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", options: ["Ø§Ù„ÙØ§ØªØ­Ø©", "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", "Ø§Ù„Ù†Ø§Ø³"] },
            { text: "ØªÙØ¨Ù‘ÙØªÙ’ ÙŠÙØ¯ÙØ§ Ø£ÙØ¨ÙÙŠ Ù„ÙÙ‡ÙØ¨Ù", name: "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø³Ø¯", options: ["Ø§Ù„Ù…Ø³Ø¯", "Ø§Ù„ÙÙ„Ù‚", "Ø§Ù„ÙƒÙˆØ«Ø±"] }
        ];
        const quizQuestions = [
            { question: "Ù…Ø§ Ù‡Ùˆ Ø£ÙˆÙ„ ÙŠÙˆÙ… ÙŠØ¨Ø¯Ø£ ÙÙŠÙ‡ Ø§Ù„ØµÙŠØ§Ù…ØŸ", answer: "Ø§Ù„ÙØ¬Ø±", options: ["Ø§Ù„Ø¸Ù‡Ø±", "Ø§Ù„ÙØ¬Ø±", "Ø§Ù„Ù…ØºØ±Ø¨"] },
            { question: "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„ØªÙŠ ØªÙØ¹ØªØ¨Ø± Ø®ÙŠØ± Ù…Ù† Ø£Ù„Ù Ø´Ù‡Ø±ØŸ", answer: "Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±", options: ["Ù„ÙŠÙ„Ø© Ø§Ù„Ù†ØµÙ", "Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±", "Ù„ÙŠÙ„Ø© Ø§Ù„Ø¹ÙŠØ¯"] }
        ];
        let prayerIndex = 0;
        let points = 0;
        let userName = "";
        let globalUsers = Math.floor(Math.random() * 1000);
        let leaderboard = [
            { name: "Ø£Ø­Ù…Ø¯", points: 25 },
            { name: "ÙØ§Ø·Ù…Ø©", points: 20 },
            { name: "Ù…Ø­Ù…Ø¯", points: 15 },
            { name: "Ø²ÙŠÙ†Ø¨", points: 10 },
            { name: "Ø¹Ù…Ø±", points: 5 }
        ];

        // Ø§Ù„Ø¹Ø¯Ø§Ø¯
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = ramadanStart - now;
            userName = document.getElementById("userName").value || "Ø²Ø§Ø¦Ø±";

            if (distance <= 0) {
                const daysInRamadan = Math.floor((now - ramadanStart) / (1000 * 60 * 60 * 24));
                if (daysInRamadan < 30) {
                    document.getElementById("countdown").innerHTML = `${userName}ØŒ Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ! Ø§Ù„ÙŠÙˆÙ… ${daysInRamadan + 1} Ù…Ù† Ø±Ù…Ø¶Ø§Ù† <i class="fas fa-star"></i>`;
                } else {
                    document.getElementById("countdown").style.display = "none";
                    document.getElementById("prayer").style.display = "none";
                    document.getElementById("shareBtn").style.display = "none";
                    document.getElementById("eid").style.display = "block";
                    startFireworks();
                }
            } else {
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                document.getElementById("countdown").innerHTML = 
                    `${userName}ØŒ Ø¨Ø§Ù‚ÙŠ ${days} Ø£ÙŠØ§Ù… ${hours} Ø³Ø§Ø¹Ø§Øª ${minutes} Ø¯Ù‚Ø§Ø¦Ù‚ ${seconds} Ø«ÙˆØ§Ù†Ù Ø­ØªÙ‰ Ø±Ù…Ø¶Ø§Ù† <i class="fas fa-moon"></i>`;
            }
            updateLeaderboard();
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„Ø¯Ø¹Ø§Ø¡
        function changePrayer() {
            prayerIndex = (prayerIndex + 1) % prayers.length;
            points++;
            document.getElementById("prayer").innerHTML = `Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ… ${prayerIndex + 1}: ${prayers[prayerIndex]}`;
            document.getElementById("points").innerHTML = `Ù†Ø¬ÙˆÙ…Ùƒ: ${points} <i class="fas fa-star"></i>`;
            document.getElementById("shareBtn").style.display = "block";
            document.getElementById("globalStats").innerHTML = `Ø§Ù†Ø¶Ù… ${globalUsers + points} Ø´Ø®Øµ Ø¥Ù„Ù‰ ØªØ­Ø¯ÙŠ Ø±Ù…Ø¶Ø§Ù†`;
            updateLeaderboard();
            if (points === prayers.length) {
                alert(`${userName}ØŒ Ø£ÙƒÙ…Ù„Øª Ø§Ù„ØªØ­Ø¯ÙŠ! Ø£Ù†Øª Ø¨Ø·Ù„ Ø±Ù…Ø¶Ø§Ù† <i class="fas fa-trophy"></i>`);
            }
        }

        // Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¯Ø¹Ø§Ø¡
        function sharePrayer() {
            const text = `Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ… Ù…Ù† Ø±Ù…Ø¶Ø§Ù†: ${prayers[prayerIndex]} ğŸŒ™ Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ ØªØ­Ø¯ÙŠ Ø±Ù…Ø¶Ø§Ù†: ${window.location.href}`;
            const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`;
            window.open(whatsappUrl, '_blank');
        }

        // ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„ØµØ¯Ø§Ø±Ø©
        function updateLeaderboard() {
            let userEntry = { name: userName, points: points };
            let updated = false;
            for (let i = 0; i < leaderboard.length; i++) {
                if (leaderboard[i].points < points && !updated) {
                    leaderboard.splice(i, 0, userEntry);
                    updated = true;
                }
            }
            if (!updated && leaderboard.length < 5) leaderboard.push(userEntry);
            leaderboard = leaderboard.slice(0, 5).sort((a, b) => b.points - a.points);

            let list = "";
            leaderboard.forEach((entry, index) => {
                list += `<li>${index + 1}. ${entry.name}: ${entry.points} <i class="fas fa-star"></i></li>`;
            });
            document.getElementById("leaderList").innerHTML = list;
        }

        // Ù„Ø¹Ø¨Ø© Ø§Ø¬Ù…Ø¹ Ø§Ù„Ù†Ø¬ÙˆÙ…
        function startStarGame() {
            document.getElementById("gameArea").style.display = "block";
            document.getElementById("gameArea").innerHTML = "Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¬ÙˆÙ… Ù„Ø¬Ù…Ø¹Ù‡Ø§!";
            for (let i = 0; i < 5; i++) {
                const star = document.createElement("div");
                star.className = "star";
                star.innerHTML = '<i class="fas fa-star"></i>';
                star.style.left = Math.random() * 90 + "%";
                star.style.top = Math.random() * 90 + "%";
                star.onclick = () => {
                    points++;
                    document.getElementById("points").innerHTML = `Ù†Ø¬ÙˆÙ…Ùƒ: ${points} <i class="fas fa-star"></i>`;
                    star.remove();
                    updateLeaderboard();
                };
                document.body.appendChild(star);
                setTimeout(() => star.remove(), 5000);
            }
            setTimeout(() => document.getElementById("gameArea").style.display = "none", 6000);
        }

        // Ù„Ø¹Ø¨Ø© Ø®Ù…Ù† Ø§Ù„Ø³ÙˆØ±Ø©
        function startGuessGame() {
            document.getElementById("gameArea").style.display = "block";
            const surah = surahs[Math.floor(Math.random() * surahs.length)];
            let html = `<p>Ø®Ù…Ù† Ø§Ù„Ø³ÙˆØ±Ø©: "${surah.text}"</p>`;
            surah.options.forEach(option => {
                html += `<button onclick="checkGuess('${option}', '${surah.name}')">${option}</button>`;
            });
            document.getElementById("gameArea").innerHTML = html;
        }
        function checkGuess(selected, correct) {
            if (selected === correct) {
                points++;
                document.getElementById("points").innerHTML = `Ù†Ø¬ÙˆÙ…Ùƒ: ${points} <i class="fas fa-star"></i>`;
                document.getElementById("gameArea").innerHTML = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! <i class="fas fa-check-circle"></i>";
                updateLeaderboard();
            } else {
                document.getElementById("gameArea").innerHTML = `Ø®Ø·Ø£! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${correct}`;
            }
            setTimeout(() => document.getElementById("gameArea").style.display = "none", 2000);
        }

        // Ù„Ø¹Ø¨Ø© Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ©
        function startQuizGame() {
            document.getElementById("gameArea").style.display = "block";
            const quiz = quizQuestions[Math.floor(Math.random() * quizQuestions.length)];
            let html = `<p>${quiz.question}</p>`;
            quiz.options.forEach(option => {
                html += `<button onclick="checkQuiz('${option}', '${quiz.answer}')">${option}</button>`;
            });
            document.getElementById("gameArea").innerHTML = html;
        }
        function checkQuiz(selected, correct) {
            if (selected === correct) {
                points++;
                document.getElementById("points").innerHTML = `Ù†Ø¬ÙˆÙ…Ùƒ: ${points} <i class="fas fa-star"></i>`;
                document.getElementById("gameArea").innerHTML = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! <i class="fas fa-check-circle"></i>";
                updateLeaderboard();
            } else {
                document.getElementById("gameArea").innerHTML = `Ø®Ø·Ø£! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${correct}`;
            }
            setTimeout(() => document.getElementById("gameArea").style.display = "none", 2000);
        }

        // Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù†Ø§Ø±ÙŠØ©
        function startFireworks() {
            document.body.style.backgroundColor = "#ffe4b5";
            for (let i = 0; i < 20; i++) {
                const star = document.createElement("div");
                star.className = "star";
                star.innerHTML = '<i class="fas fa-fireworks"></i>';
                star.style.left = Math.random() * 90 + "%";
                star.style.top = Math.random() * 90 + "%";
                document.body.appendChild(star);
                setTimeout(() => star.remove(), 2000);
            }
        }

        setInterval(updateCountdown, 1000);
        setInterval(updateLeaderboard, 10000); // ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ±ÙŠ ÙƒÙ„ 10 Ø«ÙˆØ§Ù†Ù
    </script>
</body>
</html>